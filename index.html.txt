<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Calculadora exortipster</title>
  <style>
    :root {
      --verde-bet: #0b3d0b;
      --verde-claro: #3bb143;
      --amarillo-bet: #ffc600;
      --gris-oscuro: #1a1a1a;
      --gris-claro: #e0e0e0;
      --rojo: #d32f2f;
    }

    body {
      font-family: Arial, sans-serif;
      background: var(--gris-oscuro);
      color: var(--gris-claro);
      display: flex;
      justify-content: center;
      padding: 30px;
    }

    .container {
      background: var(--verde-bet);
      padding: 25px 30px;
      border-radius: 12px;
      max-width: 420px;
      width: 100%;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
      border: 2px solid var(--amarillo-bet);
    }

    h1 {
      text-align: center;
      color: var(--amarillo-bet);
      margin-bottom: 25px;
      font-size: 1.6rem;
    }

    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
      color: var(--gris-claro);
    }

    input[type="number"] {
      width: 100%;
      padding: 10px 12px;
      margin-top: 6px;
      border-radius: 6px;
      border: none;
      font-size: 1rem;
      background: #f0f0f0;
      color: #222;
    }

    .result {
      margin-top: 25px;
      background: #fff;
      color: #000;
      padding: 15px;
      border-radius: 8px;
      font-size: 1.1rem;
    }

    .row {
      margin-top: 12px;
    }

    .highlight {
      font-weight: bold;
    }

    .verde {
      color: var(--verde-claro);
    }

    .rojo {
      color: var(--rojo);
    }

    .mensaje {
      font-weight: bold;
      margin-top: 15px;
      font-size: 1rem;
    }

    button {
      margin-top: 20px;
      width: 100%;
      padding: 12px;
      border: none;
      background: var(--amarillo-bet);
      color: #222;
      font-weight: bold;
      font-size: 1rem;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    button:hover {
      background: #e0b000;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Calculadora exortipster</h1>

    <label for="cuota1">Momio Casa 1</label>
    <input type="number" id="cuota1" min="0.01" step="any" value="2.90" />

    <label for="cuota2">Momio Casa 2</label>
    <input type="number" id="cuota2" min="0.01" step="any" value="1.63" />

    <label for="monto">Monto total a apostar (MXN)</label>
    <input type="number" id="monto" min="0.01" step="any" value="50000" />

    <div class="result" id="resultado" style="display:none;">
      <div class="row">Fondos apostados en Casa 1: <span id="apuesta1" class="highlight"></span> MXN</div>
      <div class="row">Fondos apostados en Casa 2: <span id="apuesta2" class="highlight"></span> MXN</div>
      <div class="row">Fondos ganados si gana Casa 1: <span id="ganancia1" class="highlight"></span> MXN</div>
      <div class="row">Fondos ganados si gana Casa 2: <span id="ganancia2" class="highlight"></span> MXN</div>
      <div class="row">Ganancia neta total: <span id="gananciaNeta" class="highlight"></span> MXN</div>
      <div class="row">Porcentaje de ganancia/pérdida: <span id="porcentaje" class="highlight"></span></div>
      <div id="mensaje" class="mensaje"></div>
      <button onclick="copiarResultados()">📋 Copiar resultados</button>
    </div>
  </div>

  <script>
    const cuota1Input = document.getElementById('cuota1');
    const cuota2Input = document.getElementById('cuota2');
    const montoInput = document.getElementById('monto');
    const resultadoDiv = document.getElementById('resultado');
    const apuesta1Span = document.getElementById('apuesta1');
    const apuesta2Span = document.getElementById('apuesta2');
    const ganancia1Span = document.getElementById('ganancia1');
    const ganancia2Span = document.getElementById('ganancia2');
    const gananciaNetaSpan = document.getElementById('gananciaNeta');
    const porcentajeSpan = document.getElementById('porcentaje');
    const mensajeDiv = document.getElementById('mensaje');

    function formatearNumero(num) {
      return num.toLocaleString('es-MX', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
    }

    function asignarColor(elemento, valor) {
      if (valor >= 0) {
        elemento.className = 'highlight verde';
      } else {
        elemento.className = 'highlight rojo';
      }
    }

    function calcularSurebet() {
      const cuota1 = parseFloat(cuota1Input.value);
      const cuota2 = parseFloat(cuota2Input.value);
      const montoTotal = parseFloat(montoInput.value);

      if (isNaN(cuota1) || cuota1 <= 0) {
        resultadoDiv.style.display = 'none';
        mensajeDiv.textContent = "La cuota Casa 1 debe ser mayor que 0.";
        mensajeDiv.className = "mensaje rojo";
        return;
      }
      if (isNaN(cuota2) || cuota2 <= 0) {
        resultadoDiv.style.display = 'none';
        mensajeDiv.textContent = "La cuota Casa 2 debe ser mayor que 0.";
        mensajeDiv.className = "mensaje rojo";
        return;
      }
      if (isNaN(montoTotal) || montoTotal <= 0) {
        resultadoDiv.style.display = 'none';
        mensajeDiv.textContent = "El monto total debe ser mayor que 0.";
        mensajeDiv.className = "mensaje rojo";
        return;
      }

      const inv1 = 1 / cuota1;
      const inv2 = 1 / cuota2;
      const sumaInv = inv1 + inv2;

      const apuesta1 = montoTotal * inv1 / sumaInv;
      const apuesta2 = montoTotal * inv2 / sumaInv;

      const retorno1 = apuesta1 * cuota1;
      const retorno2 = apuesta2 * cuota2;

      const gananciaNeta = Math.min(retorno1, retorno2) - montoTotal;
      const porcentajeGanancia = (gananciaNeta / montoTotal) * 100;

      apuesta1Span.textContent = formatearNumero(apuesta1);
      asignarColor(apuesta1Span, apuesta1);

      apuesta2Span.textContent = formatearNumero(apuesta2);
      asignarColor(apuesta2Span, apuesta2);

      ganancia1Span.textContent = formatearNumero(retorno1);
      ganancia2Span.textContent = formatearNumero(retorno2);

      if (gananciaNeta < 0) {
        ganancia1Span.className = "highlight rojo";
        ganancia2Span.className = "highlight rojo";
      } else {
        asignarColor(ganancia1Span, retorno1);
        asignarColor(ganancia2Span, retorno2);
      }

      gananciaNetaSpan.textContent = formatearNumero(gananciaNeta);
      asignarColor(gananciaNetaSpan, gananciaNeta);

      porcentajeSpan.textContent = formatearNumero(porcentajeGanancia) + " %";
      asignarColor(porcentajeSpan, porcentajeGanancia);

      if (gananciaNeta >= 0) {
        mensajeDiv.textContent = "✔️ Existen ganancias posibles con estos momios.";
        mensajeDiv.className = "mensaje verde";
      } else {
        mensajeDiv.textContent = "❌ No hay ganancias posibles con estos momios.";
        mensajeDiv.className = "mensaje rojo";
      }

      resultadoDiv.style.display = 'block';
    }

    function copiarResultados() {
      const texto = `
Fondos apostados en Casa 1: ${apuesta1Span.textContent} MXN
Fondos apostados en Casa 2: ${apuesta2Span.textContent} MXN
Fondos ganados si gana Casa 1: ${ganancia1Span.textContent} MXN
Fondos ganados si gana Casa 2: ${ganancia2Span.textContent} MXN
Ganancia neta total: ${gananciaNetaSpan.textContent} MXN
Porcentaje de ganancia/pérdida: ${porcentajeSpan.textContent}
      `.trim();

      navigator.clipboard.writeText(texto).then(() => {
        alert("✅ Resultados copiados al portapapeles.");
      }).catch(err => {
        alert("❌ Error al copiar: " + err);
      });
    }

    ['input', 'change'].forEach(evt => {
      cuota1Input.addEventListener(evt, calcularSurebet);
      cuota2Input.addEventListener(evt, calcularSurebet);
      montoInput.addEventListener(evt, calcularSurebet);
    });

    window.onload = calcularSurebet;
  </script>
</body>
</html>